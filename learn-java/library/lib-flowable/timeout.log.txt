C:\Java\jdk-1.14\bin\java.exe -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:57772,suspend=y,server=n -Dvisualvm.id=48006364467900 -javaagent:C:\java\IDEA-2018.3.5\plugins\Groovy\lib\agent\gragent.jar -javaagent:C:\java\IDEA-2018.3.5\plugins\java\lib\rt\debugger-agent.jar -Dfile.encoding=UTF-8 -classpath K:\projects\_patterns\library\lib-flowable\out\production\classes;K:\projects\_patterns\library\lib-flowable\out\production\resources;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.projectlombok\lombok\1.18.8\448003bc1b234aac04b58e27d7755c12c3ec4236\lombok-1.18.8.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-engine\6.4.1\7d21e3ebfc4d57a8df57cb13723813d9bf57219e\flowable-engine-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\com.h2database\h2\1.4.199\7bf08152984ed8859740ae3f97fae6c72771ae45\h2-1.4.199.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\ch.qos.logback\logback-classic\1.2.3\7c4f3c474fb2c041d8028740440937705ebb473a\logback-classic-1.2.3.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\postgresql\postgresql\9.1-901-1.jdbc4\9bfabe48876ec38f6cbaa6931bad05c64a9ea942\postgresql-9.1-901-1.jdbc4.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\joda-time\joda-time\2.10.1\9ac3dbf89dbf2ee385185dd0cd3064fe789efee0\joda-time-2.10.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.jadira.usertype\usertype.core\7.0.0.CR1\818991d0b4d8fce6da9f27ea61187111efcae1a1\usertype.core-7.0.0.CR1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-bpmn-converter\6.4.1\d357b350e5ebc3716767c5f689f6acec2e1a21ab\flowable-bpmn-converter-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-task-service\6.4.1\81202470f82b46eab39e43d5c4e6ec18be86b239\flowable-task-service-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-job-service\6.4.1\187a5b9e1995a0be0844957576269215f51bd6bc\flowable-job-service-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-variable-service\6.4.1\13ef463e49e3b0714408350684aecbc734755bfa\flowable-variable-service-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-identitylink-service\6.4.1\348f6d0f11d755345d975f36dfb8ab91df2ede29\flowable-identitylink-service-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-entitylink-service\6.4.1\f13df555932f2c073cec92560500f424da5e4598\flowable-entitylink-service-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-idm-engine-configurator\6.4.1\4141bb6fb8197eaa54e89c1f209c368405e7d377\flowable-idm-engine-configurator-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-idm-engine\6.4.1\d906a230020fe85635c018b0d499bae90d1689f4\flowable-idm-engine-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-engine-common\6.4.1\1c4f3b3db04e6f320fdc7a5efade0b1f8a4bf1a7\flowable-engine-common-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-cmmn-api\6.4.1\aaf385e7e885b1e5846f4a4944b508b77ec6c904\flowable-cmmn-api-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-dmn-api\6.4.1\e1eeade73ca700001e7607a358a5d1f925a30309\flowable-dmn-api-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-content-api\6.4.1\fd186b3e1f976d185bb5a4acdc2eb21c0fbc08f1\flowable-content-api-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-process-validation\6.4.1\3de9f2fac08900b2b22581157974f1ada80cad0b\flowable-process-validation-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-image-generator\6.4.1\34daec9ad470f9816f1dc826166129b4a37ee1f5\flowable-image-generator-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-idm-api\6.4.1\570a59fccb43da4257469ca145f377767fb22fd\flowable-idm-api-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-form-model\6.4.1\6da18ff263771fe2800d4b3bf59bd4b8e862c411\flowable-form-model-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-form-api\6.4.1\ab614c606537b435ef4490ebf88889a4ee7fb506\flowable-form-api-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-engine-common-api\6.4.1\9ccd693fa97a064076ca7829975cc82bd8ccee07\flowable-engine-common-api-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.apache.commons\commons-email\1.5\e8e677c6362eba14ff3c476ba63ccb83132dbd52\commons-email-1.5.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.apache.commons\commons-lang3\3.8.1\6505a72a097d9270f7a9e7bf42c4238283247755\commons-lang3-3.8.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.mybatis\mybatis\3.4.6\a77a546f679533837f6c6a75c034b669f3ce6a2f\mybatis-3.4.6.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.springframework\spring-beans\5.0.12.RELEASE\985983cc69e42defefef099c3cfdf24e81b28b6c\spring-beans-5.0.12.RELEASE.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.slf4j\jcl-over-slf4j\1.7.25\f8c32b13ff142a513eeb5b6330b1588dcb2c0461\jcl-over-slf4j-1.7.25.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.slf4j\slf4j-api\1.7.25\da76ca59f6a57ee3102f8f9bd9cee742973efa8a\slf4j-api-1.7.25.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\ch.qos.logback\logback-core\1.2.3\864344400c3d4d92dfeb0a305dc87d953677c03c\logback-core-1.2.3.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.jadira.usertype\usertype.spi\7.0.0.CR1\895f79b8a1c33f2e17ebc839f80ecaf62924e784\usertype.spi-7.0.0.CR1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-bpmn-model\6.4.1\d2dcfc315b1e9544f66a88ce2fc31b96041276af\flowable-bpmn-model-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-task-service-api\6.4.1\a5fa1d28391c60fc19a91af9c5ba3757f105f2b1\flowable-task-service-api-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-job-service-api\6.4.1\3e2d6087f08ef503b37f7b1913a22efe83fa583d\flowable-job-service-api-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-variable-service-api\6.4.1\f3f2d38c6bf9b10b0fed47d1c4702b49823ecbc9\flowable-variable-service-api-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-identitylink-service-api\6.4.1\6869b914b7a42aa05e26668f16b231283701d4fa\flowable-identitylink-service-api-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-entitylink-service-api\6.4.1\3c5b652c78fb4a4a23e05a759c14576ffd3617f1\flowable-entitylink-service-api-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\commons-logging\commons-logging\1.2\4bfc12adfe4842bf07b657f0369c4cb522955686\commons-logging-1.2.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\com.fasterxml.uuid\java-uuid-generator\3.1.5\8784df945176ab4e8e268fd24508cf882d3378de\java-uuid-generator-3.1.5.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\commons-codec\commons-codec\1.11\3acb4705652e16236558f0f4f2192cc33c3bd189\commons-codec-1.11.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\com.fasterxml.jackson.core\jackson-databind\2.9.8\11283f21cc480aa86c4df7a0a3243ec508372ed2\jackson-databind-2.9.8.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\com.fasterxml.jackson.core\jackson-core\2.9.8\f5a654e4675769c716e5b387830d19b501ca191\jackson-core-2.9.8.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-cmmn-model\6.4.1\4fd498b13caa278dce05c9c408c96ceab265400b\flowable-cmmn-model-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.flowable\flowable-dmn-model\6.4.1\2db42dd92dff71ccbd0af6fb7e9709e8446a1714\flowable-dmn-model-6.4.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\com.sun.mail\javax.mail\1.5.6\ab5daef2f881c42c8e280cbe918ec4d7fdfd7efe\javax.mail-1.5.6.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.springframework\spring-core\5.0.12.RELEASE\b443363fffe8b1881a231bb96d8c927558a941cc\spring-core-5.0.12.RELEASE.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\com.fasterxml.jackson.core\jackson-annotations\2.9.8\ba7f0e6f8f1b28d251eeff2a5604bed34c53ff35\jackson-annotations-2.9.8.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\javax.activation\activation\1.1\e6cb541461c2834bdea3eb920f1884d1eb508b50\activation-1.1.jar;C:\Users\szolotukhin\.gradle\caches\modules-2\files-2.1\org.springframework\spring-jcl\5.0.12.RELEASE\207c604aa198f7f845a1ce046d0f9593294c7953\spring-jcl-5.0.12.RELEASE.jar;C:\java\IDEA-2018.3.5\lib\idea_rt.jar ua.in.szolotukhin.flowable.process.ParentChildApplication
Connected to the target VM, address: '127.0.0.1:57772', transport: 'socket'
Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
21:33:02.943 |main                                    | INFO  | u.i.s.f.p.ParentChildApplication         - start application
21:33:02.950 |main                                    | INFO  | u.i.s.f.common.ProcessEngineFactory      - Create engine
21:33:05.218 |main                                    | INFO  | u.i.s.f.p.ParentChildApplication         - Deploy process-child.bpmn
21:33:05.463 |main                                    | INFO  | u.i.s.f.p.ParentChildApplication         - Deploy process-parent.bpmn
21:33:05.543 |main                                    | INFO  | u.i.s.f.p.ParentChildApplication         - Starting process subprocess-parent:8:110006
21:33:05.601 |main                                    | INFO  | u.i.s.f.p.ParentChildApplication         - Started process subprocess-parent:8:110006
21:33:05.601 |main                                    | INFO  | u.i.s.f.p.ParentChildApplication         - End application
21:33:05.626 |flowable-async-job-executor-thread-1    | INFO  | u.i.s.f.c.tasks.AsyncServiceTask         - Executing task p-sync-1: async=true, exclusive=true
21:58:05.637 |flowable-async-job-executor-thread-1    | INFO  | u.i.s.f.c.tasks.AsyncServiceTask         - Executed task p-sync-1
21:58:05.690 |flowable-async-job-executor-thread-1    | ERROR | ltAsyncRunnableExecutionExceptionHandler - Job 110011 failed
org.flowable.common.engine.api.FlowableOptimisticLockingException: JobEntity [id=110011] was updated by another transaction concurrently
	at org.flowable.common.engine.impl.db.DbSqlSession.flushDeleteEntities(DbSqlSession.java:571)
	at org.flowable.common.engine.impl.db.DbSqlSession.flushDeletes(DbSqlSession.java:526)
	at org.flowable.common.engine.impl.db.DbSqlSession.flush(DbSqlSession.java:293)
	at org.flowable.common.engine.impl.interceptor.CommandContext.flushSessions(CommandContext.java:191)
	at org.flowable.common.engine.impl.interceptor.CommandContext.close(CommandContext.java:61)
	at org.flowable.common.engine.impl.interceptor.CommandContextInterceptor.execute(CommandContextInterceptor.java:80)
	at org.flowable.common.engine.impl.interceptor.LogInterceptor.execute(LogInterceptor.java:30)
	at org.flowable.common.engine.impl.cfg.CommandExecutorImpl.execute(CommandExecutorImpl.java:56)
	at org.flowable.common.engine.impl.cfg.CommandExecutorImpl.execute(CommandExecutorImpl.java:51)
	at org.flowable.job.service.impl.asyncexecutor.ExecuteAsyncRunnable.executeJob(ExecuteAsyncRunnable.java:128)
	at org.flowable.job.service.impl.asyncexecutor.ExecuteAsyncRunnable.run(ExecuteAsyncRunnable.java:116)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:832)
21:58:05.704 |flowable-async-job-executor-thread-1    | ERROR | o.f.c.e.i.interceptor.CommandContext     - Error while closing command context
java.lang.NullPointerException: null
	at org.flowable.engine.impl.cfg.DefaultInternalJobManager.handleJobDelete(DefaultInternalJobManager.java:119)
	at org.flowable.job.service.impl.persistence.entity.JobEntityManagerImpl.delete(JobEntityManagerImpl.java:93)
	at org.flowable.job.service.impl.persistence.entity.JobEntityManagerImpl.delete(JobEntityManagerImpl.java:32)
	at org.flowable.job.service.impl.persistence.entity.AbstractEntityManager.delete(AbstractEntityManager.java:88)
	at org.flowable.job.service.impl.persistence.entity.JobEntityManagerImpl.delete(JobEntityManagerImpl.java:79)
	at org.flowable.job.service.impl.persistence.entity.JobEntityManagerImpl.delete(JobEntityManagerImpl.java:32)
	at org.flowable.job.service.impl.persistence.entity.AbstractEntityManager.delete(AbstractEntityManager.java:83)
	at org.flowable.job.service.impl.asyncexecutor.DefaultJobManager.unacquire(DefaultJobManager.java:267)
	at org.flowable.job.service.impl.asyncexecutor.ExecuteAsyncRunnable$3.execute(ExecuteAsyncRunnable.java:210)
	at org.flowable.job.service.impl.asyncexecutor.ExecuteAsyncRunnable$3.execute(ExecuteAsyncRunnable.java:207)
	at org.flowable.engine.impl.interceptor.CommandInvoker$1.run(CommandInvoker.java:51)
	at org.flowable.engine.impl.interceptor.CommandInvoker.executeOperation(CommandInvoker.java:93)
	at org.flowable.engine.impl.interceptor.CommandInvoker.executeOperations(CommandInvoker.java:72)
	at org.flowable.engine.impl.interceptor.CommandInvoker.execute(CommandInvoker.java:56)
	at org.flowable.engine.impl.interceptor.BpmnOverrideContextInterceptor.execute(BpmnOverrideContextInterceptor.java:25)
	at org.flowable.common.engine.impl.interceptor.TransactionContextInterceptor.execute(TransactionContextInterceptor.java:53)
	at org.flowable.common.engine.impl.interceptor.CommandContextInterceptor.execute(CommandContextInterceptor.java:71)
	at org.flowable.common.engine.impl.interceptor.LogInterceptor.execute(LogInterceptor.java:30)
	at org.flowable.common.engine.impl.cfg.CommandExecutorImpl.execute(CommandExecutorImpl.java:56)
	at org.flowable.common.engine.impl.cfg.CommandExecutorImpl.execute(CommandExecutorImpl.java:51)
	at org.flowable.job.service.impl.asyncexecutor.ExecuteAsyncRunnable.unacquireJob(ExecuteAsyncRunnable.java:207)
	at org.flowable.job.service.impl.asyncexecutor.ExecuteAsyncRunnable.lockJob(ExecuteAsyncRunnable.java:194)
	at org.flowable.job.service.impl.asyncexecutor.ExecuteAsyncRunnable.run(ExecuteAsyncRunnable.java:113)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:832)
21:58:05.707 |flowable-async-job-executor-thread-2    | INFO  | u.i.s.f.c.tasks.AsyncServiceTask         - Executing task p-sync-1: async=true, exclusive=true
Exception in thread "flowable-async-job-executor-thread-1" java.lang.NullPointerException
	at org.flowable.engine.impl.cfg.DefaultInternalJobManager.handleJobDelete(DefaultInternalJobManager.java:119)
	at org.flowable.job.service.impl.persistence.entity.JobEntityManagerImpl.delete(JobEntityManagerImpl.java:93)
	at org.flowable.job.service.impl.persistence.entity.JobEntityManagerImpl.delete(JobEntityManagerImpl.java:32)
	at org.flowable.job.service.impl.persistence.entity.AbstractEntityManager.delete(AbstractEntityManager.java:88)
	at org.flowable.job.service.impl.persistence.entity.JobEntityManagerImpl.delete(JobEntityManagerImpl.java:79)
	at org.flowable.job.service.impl.persistence.entity.JobEntityManagerImpl.delete(JobEntityManagerImpl.java:32)
	at org.flowable.job.service.impl.persistence.entity.AbstractEntityManager.delete(AbstractEntityManager.java:83)
	at org.flowable.job.service.impl.asyncexecutor.DefaultJobManager.unacquire(DefaultJobManager.java:267)
	at org.flowable.job.service.impl.asyncexecutor.ExecuteAsyncRunnable$3.execute(ExecuteAsyncRunnable.java:210)
	at org.flowable.job.service.impl.asyncexecutor.ExecuteAsyncRunnable$3.execute(ExecuteAsyncRunnable.java:207)
	at org.flowable.engine.impl.interceptor.CommandInvoker$1.run(CommandInvoker.java:51)
	at org.flowable.engine.impl.interceptor.CommandInvoker.executeOperation(CommandInvoker.java:93)
	at org.flowable.engine.impl.interceptor.CommandInvoker.executeOperations(CommandInvoker.java:72)
	at org.flowable.engine.impl.interceptor.CommandInvoker.execute(CommandInvoker.java:56)
	at org.flowable.engine.impl.interceptor.BpmnOverrideContextInterceptor.execute(BpmnOverrideContextInterceptor.java:25)
	at org.flowable.common.engine.impl.interceptor.TransactionContextInterceptor.execute(TransactionContextInterceptor.java:53)
	at org.flowable.common.engine.impl.interceptor.CommandContextInterceptor.execute(CommandContextInterceptor.java:71)
	at org.flowable.common.engine.impl.interceptor.LogInterceptor.execute(LogInterceptor.java:30)
	at org.flowable.common.engine.impl.cfg.CommandExecutorImpl.execute(CommandExecutorImpl.java:56)
	at org.flowable.common.engine.impl.cfg.CommandExecutorImpl.execute(CommandExecutorImpl.java:51)
	at org.flowable.job.service.impl.asyncexecutor.ExecuteAsyncRunnable.unacquireJob(ExecuteAsyncRunnable.java:207)
	at org.flowable.job.service.impl.asyncexecutor.ExecuteAsyncRunnable.lockJob(ExecuteAsyncRunnable.java:194)
	at org.flowable.job.service.impl.asyncexecutor.ExecuteAsyncRunnable.run(ExecuteAsyncRunnable.java:113)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:832)
